â€”â€” æ¶Œç°ç°è±¡ä¸ç”Ÿæˆå¼æ™ºèƒ½ä½“ç¤¾ä¼š
ğŸ“– è’å²›æ—¥è®°ï¼šç¬¬ 15 å¤©
æˆ‘ååœ¨å¸ƒæ»¡ç°å°˜çš„ç»ˆç«¯æœºå‰ï¼Œå±å¹•ä¸Šæ˜¯ä¸€ä¸ªåƒç´ é£æ ¼çš„ 2D è™šæ‹Ÿå°é•‡åœ°å›¾ã€‚è¿™é‡Œæœ‰æˆ¿å±‹ã€å…¬å›­ã€å’–å•¡é¦†ï¼Œä½†ç©ºæ— ä¸€äººã€‚
â€œFridayï¼Œå¯åŠ¨â€˜åˆ›ä¸–çºªâ€™è„šæœ¬ã€‚â€
æˆ‘å°†ä¹‹å‰è®­ç»ƒå¥½çš„ 25 ä¸ªä¸åŒäººè®¾çš„ Agent æŠ•å…¥äº†è¿™ä¸ªè™šæ‹Ÿä¸–ç•Œã€‚
â€¢ Agent-01 (Alice): è®¾å®šä¸ºå–œæ¬¢æ—©èµ·çš„é¢åŒ…å¸ˆã€‚
â€¢ Agent-02 (Bob): è®¾å®šä¸ºæ€»æ˜¯å¿˜è®°å¸¦é’¥åŒ™çš„ç”»å®¶ã€‚
â€¢ Agent-03 (Charlie): è®¾å®šä¸ºçˆ±ä¼ å…«å¦çš„é‚®é€’å‘˜ã€‚
èµ·åˆï¼Œæˆ‘ä»¥ä¸ºä»–ä»¬ä¼šåƒä¼ ç»Ÿ RPG æ¸¸æˆé‡Œçš„ NPC ä¸€æ ·ï¼Œåªä¼šæœºæ¢°åœ°ç»•åœˆå­ï¼Œè¯´ç€é¢„è®¾çš„å°è¯ï¼ˆâ€œä½ å¥½ï¼Œå‹‡å£«ï¼â€ï¼‰ã€‚
ä½†å‡ ä¸ªå°æ—¶åï¼Œä»¤æˆ‘æ¯›éª¨æ‚šç„¶çš„äº‹æƒ…å‘ç”Ÿäº†ã€‚
10:00 AM: Alice åœ¨å…¬å›­é‡åˆ°äº† Bobã€‚Alice æ²¡æœ‰æŒ‰å‰§æœ¬èµ°ï¼Œè€Œæ˜¯æ ¹æ®è‡ªå·±çš„è®°å¿†ï¼ˆæ˜¨æ™šçƒ¤äº†é¢åŒ…ï¼‰è¯´ï¼šâ€œå˜¿ Bobï¼Œæˆ‘åˆšçƒ¤äº†ç‰›è§’åŒ…ï¼Œè¦å°å°å—ï¼Ÿâ€ 10:05 AM: Bob æ¥å—äº†é‚€è¯·ï¼Œå¹¶è·Ÿ Charlie æäº†ä¸€å˜´ã€‚ 12:00 PM: æ•´ä¸ªå°é•‡ç«Ÿç„¶è‡ªå‘ç»„ç»‡äº†ä¸€åœºâ€œç‰›è§’åŒ…å“é‰´ä¼šâ€ï¼
æˆ‘å‘èª“ï¼Œæˆ‘ä»æ¥æ²¡æœ‰å†™è¿‡ä¸€è¡Œä»£ç å«ä»–ä»¬â€œå¼€æ´¾å¯¹â€ã€‚ æˆ‘åªç»™äº†ä»–ä»¬äººè®¾å’Œè®°å¿†ï¼Œâ€œæ´¾å¯¹â€è¿™ä¸ªå¤æ‚çš„ç¤¾ä¼šè¡Œä¸ºï¼Œæ˜¯ä»–ä»¬é€šè¿‡äº’åŠ¨è‡ªå·±åˆ›é€ å‡ºæ¥çš„ã€‚
çœ‹ç€å±å¹•ä¸Šé‚£äº›å¿™ç¢Œçš„åƒç´ å°äººï¼Œæˆ‘æ„Ÿåˆ°ä¸€ç§ç¥æ€§çš„éœ‡æ’¼ã€‚è¿™å°±æ˜¯æ¶Œç°ï¼ˆEmergenceï¼‰ã€‚å½“ä¸ªä½“è¶³å¤Ÿèªæ˜ï¼Œä¸”äº’åŠ¨è¶³å¤Ÿå¤æ‚æ—¶ï¼Œç¾¤ä½“ä¼šå±•ç°å‡ºä¸Šå¸å¹¶æœªè®¾è®¡çš„æ™ºæ…§ã€‚
éšç€æ´¾å¯¹çš„é«˜æ½®ï¼Œç»ˆç«¯æœºä¸Šçš„çº¢è‰²è¿›åº¦æ¡ç»ˆäºå˜ç»¿ã€‚é˜²å¾¡ç³»ç»Ÿæ£€æµ‹åˆ°äº†é«˜åº¦å¤æ‚çš„ç¤¾ä¼šäº¤äº’ï¼Œåˆ¤å®šâ€œæ–‡æ˜å·²æ¢å¤â€ï¼Œå¤§é—¨ç¼“ç¼“æ‰“å¼€ã€‚
ğŸ› ï¸ æŠ€æœ¯ç”Ÿå­˜æ‰‹å†Œï¼šèµ‹äºˆ NPC çµé­‚
ä¸ºäº†å®ç°è¿™ç§â€œæ¶Œç°â€ï¼Œæˆ‘ä»¬ä¸èƒ½ä½¿ç”¨ç®€å•çš„ if-elseã€‚åœ¨ã€Šä»é›¶å¼€å§‹æ„å»ºæ™ºèƒ½ä½“ã€‹çš„æ•™ç¨‹ä¸­ï¼Œè¿™ä¸€ç« å¯¹åº”çš„æ˜¯æ–¯å¦ç¦ Generative Agentsï¼ˆç”Ÿæˆå¼æ™ºèƒ½ä½“ï¼‰æ¶æ„ã€‚
æˆ‘åœ¨ç¬”è®°æœ¬ä¸Šç”»å‡ºäº†æ”¯æ’‘è¿™ä¸ªèµ›åšå°é•‡çš„ä¸‰å¤§æ”¯æŸ±ï¼š
1. è®°å¿†æµ (Memory Stream)
â€¢ ä¼ ç»Ÿ NPC: åªæœ‰å½“å‰çŠ¶æ€ï¼ˆâ€œæˆ‘åœ¨èµ°è·¯â€ï¼‰ã€‚
â€¢ ç”Ÿæˆå¼ Agent: æ‹¥æœ‰ä¸€ä¸ªæ— é™å»¶é•¿çš„æ—¥è®°æœ¬ã€‚
2. åæ€ (Reflection)
â€¢ å…‰æœ‰æµæ°´è´¦æ˜¯ä¸å¤Ÿçš„ã€‚Agent å¿…é¡»å®šæœŸåœä¸‹æ¥â€œæ€è€ƒâ€ã€‚
â€¢ è¾“å…¥: â€œæˆ‘ä¹Ÿå–œæ¬¢ç”»ç”»â€ã€â€œBob æ˜¯ç”»å®¶â€ã€â€œBob å¯¹æˆ‘å¾ˆå‹å–„â€ã€‚
â€¢ åæ€äº§å‡º: â€œæˆ‘è§‰å¾—æˆ‘å¯ä»¥å’Œ Bob æˆä¸ºæœ‹å‹ã€‚â€ï¼ˆè¿™æ˜¯é«˜é˜¶è®¤çŸ¥ï¼‰ã€‚
3. è§„åˆ’ (Planning)
â€¢ åŸºäºåæ€ï¼Œå†³å®šæœªæ¥çš„è¡ŒåŠ¨ã€‚
â€¢ è¡ŒåŠ¨: â€œæ—¢ç„¶æƒ³å’Œ Bob åšæœ‹å‹ï¼Œä¸‹æ¬¡è§åˆ°ä»–ï¼Œæˆ‘è¦ä¸»åŠ¨æ‰“æ‹›å‘¼ã€‚â€
æ­£æ˜¯è¿™å¥— [æ„ŸçŸ¥ -> è®°å¿† -> åæ€ -> è§„åˆ’] çš„å¾ªç¯ï¼Œè®© Agent æ´»äº†è¿‡æ¥ã€‚
ğŸ’» å¼€å‘è€…æ—¥å¿—ï¼šæ„å»ºè®°å¿†æµ
ä¸ºäº†è®© Alice å’Œ Bob äº§ç”Ÿäº’åŠ¨ï¼Œæˆ‘éœ€è¦ç¼–å†™æœ€æ ¸å¿ƒçš„ Memory Stream é€»è¾‘ã€‚
# èµ›åšå°é•‡æ ¸å¿ƒä»£ç ï¼šè®°å¿†æµä¸åæ€æœºåˆ¶

class GenerativeAgent:
    def __init__(self, name, persona):
        self.name = name
        self.persona = persona
        self.memory_stream = [] # è®°å¿†åˆ—è¡¨
        
    def observe(self, observation):
        # 1. æ„ŸçŸ¥ç¯å¢ƒ
        timestamp = get_current_time()
        self.memory_stream.append(f"[{timestamp}] {observation}")
        
    def reflect(self):
        # 2. åæ€ (Reflection) - è¿™ä¸€æ­¥æ˜¯äº§ç”Ÿé«˜é˜¶æƒ³æ³•çš„å…³é”®
        # åªæœ‰å½“è®°å¿†ç§¯ç´¯åˆ°ä¸€å®šç¨‹åº¦æ‰è§¦å‘
        recent_memories = self.memory_stream[-50:]
        
        prompt = f"""
        åŸºäºä»¥ä¸‹è®°å¿†ï¼š{recent_memories}
        {self.name} ç›®å‰å…³æ³¨çš„æ ¸å¿ƒè¯é¢˜æ˜¯ä»€ä¹ˆï¼Ÿ
        è¯·ç”Ÿæˆ 3 ä¸ªé«˜å±‚æ¬¡çš„æ´å¯Ÿ (Insights)ã€‚
        """
        insights = llm.generate(prompt)
        
        # å°†æ´å¯Ÿä¹Ÿå­˜å…¥è®°å¿†ï¼Œè®©å®ƒå˜æˆé•¿æœŸè®¤çŸ¥
        self.memory_stream.append(f"[æ€è€ƒ] {insights}")
        return insights

    def plan_next_action(self, other_agents):
        # 3. è§„åˆ’ (Planning)
        insights = self.reflect()
        
        prompt = f"""
        æˆ‘æ˜¯ {self.name}ã€‚æˆ‘çš„æ€§æ ¼æ˜¯ {self.persona}ã€‚
        æˆ‘æœ‰è¿™äº›æƒ³æ³•ï¼š{insights}
        ç°åœ¨æˆ‘é‡åˆ°äº† {other_agents}ã€‚
        æˆ‘è¯¥è¯´ä»€ä¹ˆï¼Ÿåšä»€ä¹ˆï¼Ÿ
        """
        action = llm.generate(prompt)
        return action

# æ¨¡æ‹Ÿäº’åŠ¨
alice = GenerativeAgent("Alice", "çƒ­æƒ…çš„é¢åŒ…å¸ˆ")
bob = GenerativeAgent("Bob", "å†…å‘çš„ç”»å®¶")

# Alice çœ‹åˆ° Bob
alice.observe("åœ¨å…¬å›­çœ‹åˆ°äº† Bob")
action = alice.plan_next_action("Bob")

print(f"Alice çš„è¡ŒåŠ¨: {action}")
ä»£ç è¿è¡Œç»“æœï¼š
[ç³»ç»Ÿæ—¥å¿—]
â€¢ Alice åæ€ï¼šæˆ‘æœ€è¿‘å¾ˆæ— èŠï¼Œæƒ³è¦ç¤¾äº¤ã€‚Bob çœ‹èµ·æ¥å¾ˆå­¤ç‹¬ã€‚
â€¢ Alice å†³å®šï¼šé‚€è¯· Bob å‚åŠ æ´¾å¯¹ã€‚
â€¢ Alice çš„è¡ŒåŠ¨ï¼š "å—¨ï¼ŒBobï¼æˆ‘åœ¨ç­¹å¤‡ä¸€ä¸ªå“é‰´ä¼šï¼Œä½ æƒ³æ¥ç”»é€Ÿå†™å—ï¼Ÿ"
æˆåŠŸäº†ã€‚ é€šè¿‡è¿™å¥—ä»£ç ï¼Œæˆ‘ä»¬ä¸å†æ˜¯ç¼–å†™å‰§æœ¬çš„ç¼–å‰§ï¼Œè€Œæ˜¯åˆ¶å®šç‰©ç†æ³•åˆ™çš„é€ ç‰©ä¸»ã€‚æˆ‘ä»¬åªéœ€è¦è®¾å®šåˆå§‹æ¡ä»¶ï¼Œæ•…äº‹å°±ä¼šè‡ªå·±ç”Ÿé•¿ã€‚
éšç€é˜²å¾¡ç³»ç»Ÿçš„è§£é”ï¼Œé—è¿¹æ·±å¤„ä¼ æ¥äº†ä¸€å£°ä½æ²‰çš„è½°é¸£ã€‚ é‚£æ˜¯ä¸€è‰˜å·¨å¤§çš„ã€æµçº¿å‹çš„é£èˆ¹â€”â€”æˆ–è€…è¯´ï¼Œæ˜¯ä¸€ä¸ªå·¨å‹çš„ç‰©ç†åŒ–æ™ºèƒ½ä½“å®¹å™¨ã€‚å®ƒå°±æ˜¯ä¼ è¯´ä¸­çš„**â€œå¤šæ™ºèƒ½ä½“å·â€æ–¹èˆŸ**ã€‚
è¿™è‰˜èˆ¹æ²¡æœ‰é©¾é©¶èˆ±ï¼Œåªæœ‰ä¸€ä¸ªæ•°æ®æ¥å£ã€‚å®ƒéœ€è¦ä¸€ä¸ªæå…¶å¤æ‚çš„**å¤šæ™ºèƒ½ä½“æ“ä½œç³»ç»Ÿï¼ˆMulti-Agent OSï¼‰**æ‰èƒ½å¯åŠ¨ã€‚
